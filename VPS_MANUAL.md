# ğŸš€ Chotto GPT Web â€” VPS ãƒ‡ãƒ—ãƒ­ã‚¤å®Œå…¨ã‚¬ã‚¤ãƒ‰

> **Linuxã‚³ãƒãƒ³ãƒ‰ã‚’ä¸€åº¦ã‚‚è§¦ã£ãŸã“ã¨ãŒãªã„äºº**ã§ã‚‚ã€ã“ã®ã‚¬ã‚¤ãƒ‰ã«æ²¿ã£ã¦é€²ã‚ã‚Œã°ã€VPSä¸Šã§ã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã§ãã¾ã™ã€‚

---

## ğŸ“– ç›®æ¬¡

1. [ã¯ã˜ã‚ã«](#1-ã¯ã˜ã‚ã«)
2. [ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã™ã‚‹ï¼ˆSSHï¼‰](#2-ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã™ã‚‹ssh)
3. [ã‚µãƒ¼ãƒãƒ¼ã®åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#3-ã‚µãƒ¼ãƒãƒ¼ã®åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
4. [ã‚¢ãƒ—ãƒªã®ãƒ‡ãƒ—ãƒ­ã‚¤](#4-ã‚¢ãƒ—ãƒªã®ãƒ‡ãƒ—ãƒ­ã‚¤)
5. [èµ·å‹•ã¨å…¬é–‹](#5-èµ·å‹•ã¨å…¬é–‹)
6. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#6-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
7. [ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰](#7-ã‚ˆãã‚ã‚‹è³ªå•faq)

---

## 1. ã¯ã˜ã‚ã«

### ğŸ–¥ ã€Œé»’ã„ç”»é¢ã€ã‚’ä½¿ã„ã¾ã™

ã“ã‚Œã‹ã‚‰ä½¿ã†ã®ã¯ **ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆç«¯æœ«ï¼‰** ã¨å‘¼ã°ã‚Œã‚‹é»’ã„ç”»é¢ã§ã™ã€‚
ãƒã‚¦ã‚¹ã§ã¯ãªãã€**ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã‚³ãƒãƒ³ãƒ‰ï¼ˆå‘½ä»¤æ–‡ï¼‰ã‚’æ‰“ã¡è¾¼ã‚“ã§** ã‚µãƒ¼ãƒãƒ¼ã‚’æ“ä½œã—ã¾ã™ã€‚

æœ€åˆã¯æ€–ãè¦‹ãˆã¾ã™ãŒã€ã“ã®ã‚¬ã‚¤ãƒ‰ã® **ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹ã ã‘** ã§é€²ã‚ã‚‰ã‚Œã‚‹ã®ã§å®‰å¿ƒã—ã¦ãã ã•ã„ï¼

### ğŸ“‹ å¿…è¦ãªã‚‚ã®

| é …ç›® | ä¾‹ | èª¬æ˜ |
|------|-----|------|
| VPS ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ | `198.51.100.123` | VPSå¥‘ç´„æ™‚ã«ãƒ¡ãƒ¼ãƒ«ã§å±Šãã¾ã™ |
| root ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ | ï¼ˆå¥‘ç´„æ™‚ã«è¨­å®šã—ãŸã‚‚ã®ï¼‰ | ã‚µãƒ¼ãƒãƒ¼ã®ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ |
| PC | Windows ã¾ãŸã¯ Mac | ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¤ãŸã‚ã«ä½¿ã„ã¾ã™ |

### ğŸ’¡ å¯¾å¿œVPS

ä»¥ä¸‹ã®VPSã‚µãƒ¼ãƒ“ã‚¹ã§ Ubuntu 22.04 / 24.04 ã‚’é¸ã¹ã°OKã§ã™ï¼š
- **ConoHa VPS**
- **Xserver VPS**
- **ã•ãã‚‰ã®VPS**
- **ã‚«ã‚´ãƒ¤ VPS**
- ãã®ä»– Ubuntu ãŒä½¿ãˆã‚‹VPS

---

## 2. ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã™ã‚‹ï¼ˆSSHï¼‰

SSHï¼ˆã‚¨ã‚¹ã‚¨ã‚¹ã‚¨ã‚¤ãƒï¼‰ã¨ã¯ã€è‡ªåˆ†ã®PCã‹ã‚‰VPSã«å®‰å…¨ã«æ¥ç¶šã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã§ã™ã€‚

### Windows ã®å ´åˆï¼ˆPowerShellï¼‰

1. ã‚¹ã‚¿ãƒ¼ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ã€Œ**PowerShell**ã€ã¨æ¤œç´¢ã—ã¦é–‹ã
2. ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¤ï¼ˆ`198.51.100.123` ã¯ã‚ãªãŸã®VPSã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«ç½®ãæ›ãˆã¦ãã ã•ã„ï¼‰ï¼š

```bash
ssh root@198.51.100.123
```

3. åˆå›ã¯ `Are you sure you want to continue connecting? (yes/no)` ã¨èã‹ã‚Œã‚‹ã®ã§ `yes` ã¨å…¥åŠ›ã—ã¦ Enter
4. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ï¼ˆ**ç”»é¢ã«ã¯ä½•ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ãŒã€ã¡ã‚ƒã‚“ã¨å…¥åŠ›ã•ã‚Œã¦ã„ã¾ã™**ï¼‰
5. `root@server:~#` ã®ã‚ˆã†ãªè¡¨ç¤ºãŒå‡ºã‚Œã°æ¥ç¶šæˆåŠŸã§ã™ ğŸ‰

### Mac ã®å ´åˆï¼ˆTerminalï¼‰

1. Finder â†’ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ â†’ ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ â†’ **ã‚¿ãƒ¼ãƒŸãƒŠãƒ«** ã‚’é–‹ã
2. ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¤ï¼š

```bash
ssh root@198.51.100.123
```

3. ä»¥é™ã¯ Windows ã¨åŒã˜æ‰‹é †ã§ã™ã€‚

> **ğŸ’¡ ãƒ’ãƒ³ãƒˆ**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ™‚ã«æ–‡å­—ãŒè¡¨ç¤ºã•ã‚Œãªã„ã®ã¯æ­£å¸¸ã§ã™ã€‚ã“ã‚Œã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãŸã‚ã®ä»•æ§˜ã§ã™ã€‚

---

## 3. ã‚µãƒ¼ãƒãƒ¼ã®åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ **ä¸Šã‹ã‚‰é †ã«1ã¤ãšã¤** ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

### 3-1. ã‚µãƒ¼ãƒãƒ¼ã‚’æœ€æ–°çŠ¶æ…‹ã«ã™ã‚‹

```bash
apt update && apt upgrade -y
```

> ğŸ“ æ•°åˆ†ã‹ã‹ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚é€”ä¸­ã§è³ªå•ãŒå‡ºãŸã‚‰ Enter ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚

### 3-2. å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

```bash
apt install -y git curl wget
```

### 3-3. Node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ï¼ˆnvm çµŒç”± âœ… æ¨å¥¨ï¼‰

Node.js ã¯ã“ã®ã‚¢ãƒ—ãƒªã‚’å‹•ã‹ã™ãŸã‚ã«å¿…è¦ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§ã™ã€‚
**nvm**ï¼ˆNode Version Managerï¼‰ã‚’ä½¿ã†ã¨ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒç°¡å˜ã«ãªã‚Šã¾ã™ã€‚

#### â‘  nvm ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash
```

#### â‘¡ nvm ã‚’æœ‰åŠ¹ã«ã™ã‚‹

```bash
source ~/.bashrc
```

#### â‘¢ Node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆLTSç‰ˆ = å®‰å®šç‰ˆï¼‰

```bash
nvm install --lts
```

#### â‘£ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª

```bash
node -v && npm -v
```

`v20.x.x`ï¼ˆã¾ãŸã¯ v22.x.xï¼‰ã¨ `10.x.x` ã®ã‚ˆã†ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ âœ…

### 3-4. PM2 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

PM2 ã¯ã‚¢ãƒ—ãƒªã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§æ°¸ç¶šçš„ã«å‹•ã‹ã™ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
SSHã‚’åˆ‡æ–­ã—ã¦ã‚‚ã‚¢ãƒ—ãƒªãŒæ­¢ã¾ã‚Šã¾ã›ã‚“ã€‚

```bash
npm install -g pm2
```

---

## 4. ã‚¢ãƒ—ãƒªã®ãƒ‡ãƒ—ãƒ­ã‚¤

### 4-1. ã‚¢ãƒ—ãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚µãƒ¼ãƒãƒ¼ã«é€ã‚‹

#### æ–¹æ³•A: GitHub ã‚’ä½¿ã†å ´åˆï¼ˆâœ… æ¨å¥¨ï¼‰

ã‚ã‚‰ã‹ã˜ã‚ GitHub ã«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚

```bash
cd /var/www
git clone https://github.com/ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å/chotto-gpt-web.git
cd chotto-gpt-web
```

> ğŸ“ `/var/www` ã¯Webã‚¢ãƒ—ãƒªã‚’ç½®ãä¸€èˆ¬çš„ãªå ´æ‰€ã§ã™ã€‚

#### æ–¹æ³•B: è‡ªåˆ†ã®PCã‹ã‚‰ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆ

SSHæ¥ç¶šã‚’åˆ‡æ–­ï¼ˆ`exit`ï¼‰ã—ã€**è‡ªåˆ†ã®PCå´**ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š

**Windows (PowerShell):**
```powershell
scp -r .\chotto-gpt-web root@198.51.100.123:/var/www/
```

**Mac / Linux:**
```bash
scp -r ./chotto-gpt-web root@198.51.100.123:/var/www/
```

ãã®å¾Œã€å†åº¦SSHã§æ¥ç¶šã—ã¦ï¼š
```bash
ssh root@198.51.100.123
cd /var/www/chotto-gpt-web
```

### 4-2. ä¾å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

```bash
npm install
```

> ğŸ“ åˆå›ã¯1ã€œ3åˆ†ã»ã©ã‹ã‹ã‚Šã¾ã™ã€‚

### 4-3. ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹

```bash
npm run build
```

`âœ“ Compiled successfully` ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã‚Œã°æˆåŠŸã§ã™ ğŸ‰

---

## 5. èµ·å‹•ã¨å…¬é–‹

### 5-1. PM2 ã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹

```bash
pm2 start npm --name "chotto-gpt" -- start
```

### 5-2. èµ·å‹•çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹

```bash
pm2 status
```

`online` ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°OKã§ã™ âœ…

```
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id  â”‚ name         â”‚ mode        â”‚ â†º    â”‚ status    â”‚ cpu      â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0   â”‚ chotto-gpt   â”‚ fork        â”‚ 0    â”‚ online    â”‚ 0%       â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5-3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèªã™ã‚‹ ğŸŒ

PCã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã‚’é–‹ã„ã¦ãã ã•ã„ï¼š

```
http://198.51.100.123:3000
```

> â¬†ï¸ `198.51.100.123` ã¯ã‚ãªãŸã®VPSã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

ã‚¢ãƒ—ãƒªã®ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚Œã° **ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†** ã§ã™ï¼ğŸŠ

### 5-4. ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•æ™‚ã«è‡ªå‹•ã§ç«‹ã¡ä¸ŠãŒã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼ˆé‡è¦ï¼‰

ã‚µãƒ¼ãƒãƒ¼è‡ªä½“ã‚’å†èµ·å‹•ã—ãŸã¨ãã€ã‚¢ãƒ—ãƒªã‚‚è‡ªå‹•ã§èµ·å‹•ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

1. ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€è¨­å®šç”¨ã‚³ãƒãƒ³ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ï¼š
   ```bash
   pm2 startup
   ```

2. **ç”»é¢ã«è¡¨ç¤ºã•ã‚ŒãŸé•·ã„ã‚³ãƒãƒ³ãƒ‰**ï¼ˆ`sudo env PATH=...` ã‹ã‚‰å§‹ã¾ã‚‹è¡Œï¼‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ãã®ã¾ã¾å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

3. ç¾åœ¨ã®ã‚¢ãƒ—ãƒªã®çŠ¶æ…‹ã‚’ä¿å­˜ã—ã¾ã™ï¼š
   ```bash
   pm2 save
   ```

ã“ã‚Œã§å®Œäº†ã§ã™ï¼âœ…

---

## 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### âŒ ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¹‹ãŒã‚‰ãªã„å ´åˆ

**åŸå› ã®å¤šãã¯ã€Œãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ï¼ˆãƒãƒ¼ãƒˆåˆ¶é™ï¼‰ã€** ã§ã™ã€‚

#### â‘  ã‚µãƒ¼ãƒãƒ¼å´ã®ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã‚’ç¢ºèªã™ã‚‹

```bash
ufw status
```

ã‚‚ã— `active` ã¨è¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€ãƒãƒ¼ãƒˆ 3000 ã‚’é–‹æ”¾ã—ã¾ã™ï¼š

```bash
ufw allow 3000
ufw reload
```

#### â‘¡ VPSã®ç®¡ç†ç”»é¢ã§ãƒãƒ¼ãƒˆã‚’é–‹æ”¾ã™ã‚‹

ConoHa, Xserver ç­‰ã®VPSç®¡ç†ç”»é¢ã«ã‚‚ **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—** ã‚„ **ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«** ã®è¨­å®šãŒã‚ã‚Šã¾ã™ã€‚
ç®¡ç†ç”»é¢ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã€**TCP ãƒãƒ¼ãƒˆ 3000** ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚

### âŒ ã‚¢ãƒ—ãƒªã®ãƒ­ã‚°ã‚’ç¢ºèªã—ãŸã„

```bash
pm2 logs chotto-gpt
```

ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ­ã‚°ãŒæµã‚Œã¾ã™ã€‚`Ctrl + C` ã§åœæ­¢ã§ãã¾ã™ã€‚

æœ€æ–°50è¡Œã ã‘è¦‹ãŸã„å ´åˆï¼š
```bash
pm2 logs chotto-gpt --lines 50
```

### âŒ ã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°ã—ãŸã„

```bash
cd /var/www/chotto-gpt-web
git pull                # GitHubã‹ã‚‰æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
npm install             # æ–°ã—ã„ä¾å­˜é–¢ä¿‚ãŒã‚ã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm run build           # å†ãƒ“ãƒ«ãƒ‰
pm2 restart chotto-gpt  # ã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•
```

### âŒ ã‚¢ãƒ—ãƒªã‚’æ­¢ã‚ãŸã„

```bash
pm2 stop chotto-gpt     # ä¸€æ™‚åœæ­¢
pm2 delete chotto-gpt   # å®Œå…¨ã«å‰Šé™¤
```

### âŒ `npm run build` ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

ãƒ¡ãƒ¢ãƒªä¸è¶³ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã§ã‚¹ãƒ¯ãƒƒãƒ—ï¼ˆä»®æƒ³ãƒ¡ãƒ¢ãƒªï¼‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ï¼š

```bash
fallocate -l 2G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile
echo '/swapfile none swap sw 0 0' >> /etc/fstab
```

ãã®å¾Œã€ã‚‚ã†ä¸€åº¦ `npm run build` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

---

## 7. ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰

### Q. APIã‚­ãƒ¼ã¯ã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜ã•ã‚Œã¾ã™ã‹ï¼Ÿ

**ã„ã„ãˆã€‚** APIã‚­ãƒ¼ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã® `localStorage` ã«ã®ã¿ä¿å­˜ã•ã‚Œã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ã«ã¯ä¸€åˆ‡é€ä¿¡ã•ã‚Œã¾ã›ã‚“ã€‚ãŸã ã—ã€åŒã˜ãƒ–ãƒ©ã‚¦ã‚¶ãƒ»åŒã˜ãƒ‡ãƒã‚¤ã‚¹ã§ã®ã¿æœ‰åŠ¹ã§ã™ã€‚

### Q. HTTPSï¼ˆéµãƒãƒ¼ã‚¯ï¼‰ã«ã—ãŸã„å ´åˆã¯ï¼Ÿ

Caddy ã¨ã„ã†Webã‚µãƒ¼ãƒãƒ¼ã‚’ä½¿ã†ã¨ã€ç„¡æ–™ã®SSLè¨¼æ˜æ›¸ãŒè‡ªå‹•ã§è¨­å®šã•ã‚Œã¾ã™ï¼š

```bash
# Caddy ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
apt install -y debian-keyring debian-archive-keyring apt-transport-https curl
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/gpg.key' | gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt' | tee /etc/apt/sources.list.d/caddy-stable.list
apt update
apt install caddy
```

Caddyfile ã‚’ç·¨é›†ï¼š
```bash
nano /etc/caddy/Caddyfile
```

ä»¥ä¸‹ã®å†…å®¹ã«æ›¸ãæ›ãˆï¼ˆ`your-domain.com` ã¯ã‚ãªãŸã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¤‰æ›´ï¼‰ï¼š
```
your-domain.com {
    reverse_proxy localhost:3000
}
```

ä¿å­˜ã—ã¦å†èµ·å‹•ï¼š
```bash
systemctl restart caddy
```

ã“ã‚Œã§ `https://your-domain.com` ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

### Q. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã™ã‚‹ã«ã¯ï¼Ÿ

1. ãŠåå‰.com ç­‰ã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è³¼å…¥
2. DNSè¨­å®šã§ **Aãƒ¬ã‚³ãƒ¼ãƒ‰** ã«VPSã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®š
3. ä¸Šã® Caddy æ‰‹é †ã‚’å®Ÿè¡Œ

### Q. æ¨å¥¨ã™ã‚‹VPSã®ã‚¹ãƒšãƒƒã‚¯ã¯ï¼Ÿ

| é …ç›® | æœ€ä½é™ | æ¨å¥¨ |
|------|--------|------|
| ãƒ¡ãƒ¢ãƒª | 1GB | 2GBä»¥ä¸Š |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | 25GB | 50GBä»¥ä¸Š |
| OS | Ubuntu 22.04 | Ubuntu 24.04 |

---

## ğŸ“Œ ã‚³ãƒãƒ³ãƒ‰ã¾ã¨ã‚ï¼ˆãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆï¼‰

| ã‚„ã‚ŠãŸã„ã“ã¨ | ã‚³ãƒãƒ³ãƒ‰ |
|-------------|---------|
| SSHã§æ¥ç¶š | `ssh root@<IPã‚¢ãƒ‰ãƒ¬ã‚¹>` |
| ã‚¢ãƒ—ãƒªèµ·å‹• | `pm2 start npm --name "chotto-gpt" -- start` |
| çŠ¶æ…‹ç¢ºèª | `pm2 status` |
| ãƒ­ã‚°ç¢ºèª | `pm2 logs chotto-gpt` |
| å†èµ·å‹• | `pm2 restart chotto-gpt` |
| åœæ­¢ | `pm2 stop chotto-gpt` |
| ã‚³ãƒ¼ãƒ‰æ›´æ–° | `git pull && npm install && npm run build && pm2 restart chotto-gpt` |
| ãƒãƒ¼ãƒˆé–‹æ”¾ | `ufw allow 3000 && ufw reload` |

---

ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ğŸ‰ ã“ã‚Œã§ã‚ãªãŸã®ã‚¢ãƒ—ãƒªãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§å…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚
ä½•ã‹å›°ã£ãŸã“ã¨ãŒã‚ã‚Œã°ã€`pm2 logs` ã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¨ã“ã‚ã‹ã‚‰å§‹ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚
